@page "/eventmanager"
@rendermode InteractiveServer

<PageTitle>Event Manager</PageTitle>

<h3>Component</h3>

<EditForm Model="@newEvent" OnValidSubmit="HandleValidSubmit">
    <DataAnnotationsValidator />
    <ValidationSummary />

    <div>
        <label for="eventName">Event Name:</label>
        <InputText id="eventName" @bind-Value="newEvent.Name" />
        <span class="text-danger" style="display: @(string.IsNullOrEmpty(newEvent.Name) ? "block" : "none")">Event Name is required</span>
    </div>
    <div>
        <label for="eventDate">Event Date:</label>
        <InputDate id="eventDate" @bind-Value="newEvent.Date" />
        <span class="text-danger" style="display: @(newEvent.Date == default ? "block" : "none")">Event Date is required</span>
    </div>
    <div>
        <label for="eventLocation">Event Location:</label>
        <InputText id="eventLocation" @bind-Value="newEvent.Location" />
        <span class="text-danger" style="display: @(string.IsNullOrEmpty(newEvent.Location) ? "block" : "none")">Event Location is required</span>
    </div>
    <button type="submit">Register Event</button>
</EditForm>

@code {
    private Event newEvent = new Event();
    private List<Event> events = new List<Event>();

    private void HandleValidSubmit()
    {
        events.Add(newEvent);
        // Log the event creation
        Console.WriteLine($"Event Created: {newEvent.Name} on {newEvent.Date} at {newEvent.Location}");

        newEvent = new Event();
        // Add your event creation logic here
    }

    public class Event
    {
        public string Name { get; set; }
        public DateTime Date { get; set; }
        public string Location { get; set; }
    }

}
<h3>Event List</h3>
<div class="event-list">
    @if (events != null && events.Any())
    {
        foreach (var eventItem in events)
        {
            <div class="event-card">
                <h4>@eventItem.Name</h4>
                <p>@eventItem.Date.ToShortDateString()</p>
                <p>@eventItem.Location</p>
            </div>
        }
    }
    else
    {
        <p>No events available.</p>
    }
</div>

<style>
    .event-list {
        display: flex;
        flex-wrap: wrap;
        gap: 1rem;
    }
    .event-card {
        border: 1px solid #ccc;
        padding: 1rem;
        border-radius: 5px;
        width: 200px;
    }
</style>